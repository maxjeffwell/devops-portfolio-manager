# Firebook - Frontend-only application (Firebase backend)
replicaCount: 1

# Use Recreate strategy to avoid resource pressure during deploys
strategy:
  type: Recreate

image:
  client:
    repository: maxjeffwell/firebook
    tag: 20260208-014824-97b2130
    pullPolicy: Always

service:
  client:
    type: NodePort
    port: 80
    targetPort: 80
    nodePort: 30004

resources:
  client:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi

autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80

# Environment variables (empty for frontend-only)
env:
  client: []

serviceAccount:
  create: false

podSecurityContext:
  fsGroup: 2000

securityContext:
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: false
  runAsNonRoot: false
  runAsUser: 1001

# Ingress Configuration
ingress:
  enabled: true
  host: firebook-k8s.el-jefe.me
